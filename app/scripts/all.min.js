window.Modernizr=function(e,n,t){function a(e){b.cssText=e}function r(e,n){return a(P.join(e+";")+(n||""))}function i(e,n){return typeof e===n}function s(e,n){return!!~(""+e).indexOf(n)}function o(e,n){for(var a in e){var r=e[a];if(!s(r,"-")&&b[r]!==t)return"pfx"==n?r:!0}return!1}function l(e,n,a){for(var r in e){var s=n[e[r]];if(s!==t)return a===!1?e[r]:i(s,"function")?s.bind(a||n):s}return!1}function c(e,n,t){var a=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+$.join(a+" ")+a).split(" ");return i(n,"string")||i(n,"undefined")?o(r,n):(r=(e+" "+j.join(a+" ")+a).split(" "),l(r,n,t))}function u(){f.input=function(t){for(var a=0,r=t.length;r>a;a++)M[t[a]]=!!(t[a]in y);return M.list&&(M.list=!(!n.createElement("datalist")||!e.HTMLDataListElement)),M}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(e){for(var a,r,i,s=0,o=e.length;o>s;s++)y.setAttribute("type",r=e[s]),a="text"!==y.type,a&&(y.value=k,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&y.style.WebkitAppearance!==t?(v.appendChild(y),i=n.defaultView,a=i.getComputedStyle&&"textfield"!==i.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,v.removeChild(y)):/^(search|tel)$/.test(r)||(a=/^(url|email)$/.test(r)?y.checkValidity&&y.checkValidity()===!1:y.value!=k)),C[e[s]]=!!a;return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,p,h="2.6.2",f={},m=!0,v=n.documentElement,g="modernizr",w=n.createElement(g),b=w.style,y=n.createElement("input"),k=":)",S={}.toString,P=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",$=x.split(" "),j=x.toLowerCase().split(" "),A={svg:"http://www.w3.org/2000/svg"},E={},C={},M={},T=[],D=T.slice,F=function(e,t,a,r){var i,s,o,l,c=n.createElement("div"),u=n.body,d=u||n.createElement("body");if(parseInt(a,10))for(;a--;)o=n.createElement("div"),o.id=r?r[a]:g+(a+1),c.appendChild(o);return i=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),c.id=g,(u?c:d).innerHTML+=i,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=v.style.overflow,v.style.overflow="hidden",v.appendChild(d)),s=t(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),v.style.overflow=l),!!s},B=function(n){var t=e.matchMedia||e.msMatchMedia;if(t)return t(n).matches;var a;return F("@media "+n+" { #"+g+" { position: absolute; } }",function(n){a="absolute"==(e.getComputedStyle?getComputedStyle(n,null):n.currentStyle).position}),a},I=function(){function e(e,r){r=r||n.createElement(a[e]||"div"),e="on"+e;var s=e in r;return s||(r.setAttribute||(r=n.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),s=i(r[e],"function"),i(r[e],"undefined")||(r[e]=t),r.removeAttribute(e))),r=null,s}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),O={}.hasOwnProperty;p=i(O,"undefined")||i(O.call,"undefined")?function(e,n){return n in e&&i(e.constructor.prototype[n],"undefined")}:function(e,n){return O.call(e,n)},Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError;var t=D.call(arguments,1),a=function(){if(this instanceof a){var r=function(){};r.prototype=n.prototype;var i=new r,s=n.apply(i,t.concat(D.call(arguments)));return Object(s)===s?s:i}return n.apply(e,t.concat(D.call(arguments)))};return a}),E.flexbox=function(){return c("flexWrap")},E.flexboxlegacy=function(){return c("boxDirection")},E.canvas=function(){var e=n.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},E.canvastext=function(){return!(!f.canvas||!i(n.createElement("canvas").getContext("2d").fillText,"function"))},E.webgl=function(){return!!e.WebGLRenderingContext},E.touch=function(){var t;return"ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch?t=!0:F(["@media (",P.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){t=9===e.offsetTop}),t},E.geolocation=function(){return"geolocation"in navigator},E.postmessage=function(){return!!e.postMessage},E.websqldatabase=function(){return!!e.openDatabase},E.indexedDB=function(){return!!c("indexedDB",e)},E.hashchange=function(){return I("hashchange",e)&&(n.documentMode===t||n.documentMode>7)},E.history=function(){return!(!e.history||!history.pushState)},E.draganddrop=function(){var e=n.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},E.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},E.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},E.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),s(b.backgroundColor,"rgba")||s(b.backgroundColor,"hsla")},E.multiplebgs=function(){return a("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},E.backgroundsize=function(){return c("backgroundSize")},E.borderimage=function(){return c("borderImage")},E.borderradius=function(){return c("borderRadius")},E.boxshadow=function(){return c("boxShadow")},E.textshadow=function(){return""===n.createElement("div").style.textShadow},E.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},E.cssanimations=function(){return c("animationName")},E.csscolumns=function(){return c("columnCount")},E.cssgradients=function(){var e="background-image:",n="gradient(linear,left top,right bottom,from(#9f9),to(white));",t="linear-gradient(left top,#9f9, white);";return a((e+"-webkit- ".split(" ").join(n+e)+P.join(t+e)).slice(0,-e.length)),s(b.backgroundImage,"gradient")},E.cssreflections=function(){return c("boxReflect")},E.csstransforms=function(){return!!c("transform")},E.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in v.style&&F("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(n){e=9===n.offsetLeft&&3===n.offsetHeight}),e},E.csstransitions=function(){return c("transition")},E.fontface=function(){var e;return F('@font-face {font-family:"font";src:url("https://")}',function(t,a){var r=n.getElementById("smodernizr"),i=r.sheet||r.styleSheet,s=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(a.split(" ")[0])}),e},E.generatedcontent=function(){var e;return F(["#",g,"{font:0/0 a}#",g,':after{content:"',k,'";visibility:hidden;font:3px/1 a}'].join(""),function(n){e=n.offsetHeight>=3}),e},E.video=function(){var e=n.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(a){}return t},E.audio=function(){var e=n.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return t},E.localstorage=function(){try{return localStorage.setItem(g,g),localStorage.removeItem(g),!0}catch(e){return!1}},E.sessionstorage=function(){try{return sessionStorage.setItem(g,g),sessionStorage.removeItem(g),!0}catch(e){return!1}},E.webworkers=function(){return!!e.Worker},E.applicationcache=function(){return!!e.applicationCache},E.svg=function(){return!!n.createElementNS&&!!n.createElementNS(A.svg,"svg").createSVGRect},E.inlinesvg=function(){var e=n.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==A.svg},E.smil=function(){return!!n.createElementNS&&/SVGAnimate/.test(S.call(n.createElementNS(A.svg,"animate")))},E.svgclippaths=function(){return!!n.createElementNS&&/SVGClipPath/.test(S.call(n.createElementNS(A.svg,"clipPath")))};for(var R in E)p(E,R)&&(d=R.toLowerCase(),f[d]=E[R](),T.push((f[d]?"":"no-")+d));return f.input||u(),f.addTest=function(e,n){if("object"==typeof e)for(var a in e)p(e,a)&&f.addTest(a,e[a]);else{if(e=e.toLowerCase(),f[e]!==t)return f;n="function"==typeof n?n():n,m!==t&&m&&(v.className+=" "+(n?"":"no-")+e),f[e]=n}return f},a(""),w=y=null,function(e,n){function a(e,n){var t=e.createElement("p"),a=e.getElementsByTagName("head")[0]||e.documentElement;return t.innerHTML="x<style>"+n+"</style>",a.insertBefore(t.lastChild,a.firstChild)}function r(){var e=w.elements;return"string"==typeof e?e.split(" "):e}function i(e){var n=g[e[m]];return n||(n={},v++,e[m]=v,g[v]=n),n}function s(e,t,a){if(t||(t=n),d)return t.createElement(e);a||(a=i(t));var r;return r=a.cache[e]?a.cache[e].cloneNode():f.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e),r.canHaveChildren&&!h.test(e)?a.frag.appendChild(r):r}function o(e,t){if(e||(e=n),d)return e.createDocumentFragment();t=t||i(e);for(var a=t.frag.cloneNode(),s=0,o=r(),l=o.length;l>s;s++)a.createElement(o[s]);return a}function l(e,n){n.cache||(n.cache={},n.createElem=e.createElement,n.createFrag=e.createDocumentFragment,n.frag=n.createFrag()),e.createElement=function(t){return w.shivMethods?s(t,e,n):n.createElem(t)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return n.createElem(e),n.frag.createElement(e),'c("'+e+'")'})+");return n}")(w,n.frag)}function c(e){e||(e=n);var t=i(e);return!w.shivCSS||u||t.hasCSS||(t.hasCSS=!!a(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),d||l(e,t),e}var u,d,p=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",v=0,g={};(function(){try{var e=n.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,d=1==e.childNodes.length||function(){n.createElement("a");var e=n.createDocumentFragment();return e.cloneNode===t||e.createDocumentFragment===t||e.createElement===t}()}catch(a){u=!0,d=!0}})();var w={elements:p.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:p.shivCSS!==!1,supportsUnknownElements:d,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:c,createElement:s,createDocumentFragment:o};e.html5=w,c(n)}(this,n),f._version=h,f._prefixes=P,f._domPrefixes=j,f._cssomPrefixes=$,f.mq=B,f.hasEvent=I,f.testProp=function(e){return o([e])},f.testAllProps=c,f.testStyles=F,f.prefixed=function(e,n,t){return n?c(e,n,t):c(e,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+T.join(" "):""),f}(this,this.document),function(){var e=this,n=e._,t={},a=Array.prototype,r=Object.prototype,i=Function.prototype,s=a.push,o=a.slice,l=a.concat,c=r.toString,u=r.hasOwnProperty,d=a.forEach,p=a.map,h=a.reduce,f=a.reduceRight,m=a.filter,v=a.every,g=a.some,w=a.indexOf,b=a.lastIndexOf,y=Array.isArray,k=Object.keys,S=i.bind,P=function(e){return e instanceof P?e:this instanceof P?(this._wrapped=e,void 0):new P(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=P),exports._=P):e._=P,P.VERSION="1.4.4";var x=P.each=P.forEach=function(e,n,a){if(null!=e)if(d&&e.forEach===d)e.forEach(n,a);else if(e.length===+e.length){for(var r=0,i=e.length;i>r;r++)if(n.call(a,e[r],r,e)===t)return}else for(var s in e)if(P.has(e,s)&&n.call(a,e[s],s,e)===t)return};P.map=P.collect=function(e,n,t){var a=[];return null==e?a:p&&e.map===p?e.map(n,t):(x(e,function(e,r,i){a[a.length]=n.call(t,e,r,i)}),a)};var $="Reduce of empty array with no initial value";P.reduce=P.foldl=P.inject=function(e,n,t,a){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return a&&(n=P.bind(n,a)),r?e.reduce(n,t):e.reduce(n);if(x(e,function(e,i,s){r?t=n.call(a,t,e,i,s):(t=e,r=!0)}),!r)throw new TypeError($);return t},P.reduceRight=P.foldr=function(e,n,t,a){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return a&&(n=P.bind(n,a)),r?e.reduceRight(n,t):e.reduceRight(n);var i=e.length;if(i!==+i){var s=P.keys(e);i=s.length}if(x(e,function(o,l,c){l=s?s[--i]:--i,r?t=n.call(a,t,e[l],l,c):(t=e[l],r=!0)}),!r)throw new TypeError($);return t},P.find=P.detect=function(e,n,t){var a;return j(e,function(e,r,i){return n.call(t,e,r,i)?(a=e,!0):void 0}),a},P.filter=P.select=function(e,n,t){var a=[];return null==e?a:m&&e.filter===m?e.filter(n,t):(x(e,function(e,r,i){n.call(t,e,r,i)&&(a[a.length]=e)}),a)},P.reject=function(e,n,t){return P.filter(e,function(e,a,r){return!n.call(t,e,a,r)},t)},P.every=P.all=function(e,n,a){n||(n=P.identity);var r=!0;return null==e?r:v&&e.every===v?e.every(n,a):(x(e,function(e,i,s){return(r=r&&n.call(a,e,i,s))?void 0:t}),!!r)};var j=P.some=P.any=function(e,n,a){n||(n=P.identity);var r=!1;return null==e?r:g&&e.some===g?e.some(n,a):(x(e,function(e,i,s){return r||(r=n.call(a,e,i,s))?t:void 0}),!!r)};P.contains=P.include=function(e,n){return null==e?!1:w&&e.indexOf===w?-1!=e.indexOf(n):j(e,function(e){return e===n})},P.invoke=function(e,n){var t=o.call(arguments,2),a=P.isFunction(n);return P.map(e,function(e){return(a?n:e[n]).apply(e,t)})},P.pluck=function(e,n){return P.map(e,function(e){return e[n]})},P.where=function(e,n,t){return P.isEmpty(n)?t?null:[]:P[t?"find":"filter"](e,function(e){for(var t in n)if(n[t]!==e[t])return!1;return!0})},P.findWhere=function(e,n){return P.where(e,n,!0)},P.max=function(e,n,t){if(!n&&P.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!n&&P.isEmpty(e))return-1/0;var a={computed:-1/0,value:-1/0};return x(e,function(e,r,i){var s=n?n.call(t,e,r,i):e;s>=a.computed&&(a={value:e,computed:s})}),a.value},P.min=function(e,n,t){if(!n&&P.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!n&&P.isEmpty(e))return 1/0;var a={computed:1/0,value:1/0};return x(e,function(e,r,i){var s=n?n.call(t,e,r,i):e;a.computed>s&&(a={value:e,computed:s})}),a.value},P.shuffle=function(e){var n,t=0,a=[];return x(e,function(e){n=P.random(t++),a[t-1]=a[n],a[n]=e}),a};var A=function(e){return P.isFunction(e)?e:function(n){return n[e]}};P.sortBy=function(e,n,t){var a=A(n);return P.pluck(P.map(e,function(e,n,r){return{value:e,index:n,criteria:a.call(t,e,n,r)}}).sort(function(e,n){var t=e.criteria,a=n.criteria;if(t!==a){if(t>a||void 0===t)return 1;if(a>t||void 0===a)return-1}return e.index<n.index?-1:1}),"value")};var E=function(e,n,t,a){var r={},i=A(n||P.identity);return x(e,function(n,s){var o=i.call(t,n,s,e);a(r,o,n)}),r};P.groupBy=function(e,n,t){return E(e,n,t,function(e,n,t){(P.has(e,n)?e[n]:e[n]=[]).push(t)})},P.countBy=function(e,n,t){return E(e,n,t,function(e,n){P.has(e,n)||(e[n]=0),e[n]++})},P.sortedIndex=function(e,n,t,a){t=null==t?P.identity:A(t);for(var r=t.call(a,n),i=0,s=e.length;s>i;){var o=i+s>>>1;r>t.call(a,e[o])?i=o+1:s=o}return i},P.toArray=function(e){return e?P.isArray(e)?o.call(e):e.length===+e.length?P.map(e,P.identity):P.values(e):[]},P.size=function(e){return null==e?0:e.length===+e.length?e.length:P.keys(e).length},P.first=P.head=P.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:o.call(e,0,n)},P.initial=function(e,n,t){return o.call(e,0,e.length-(null==n||t?1:n))},P.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:o.call(e,Math.max(e.length-n,0))},P.rest=P.tail=P.drop=function(e,n,t){return o.call(e,null==n||t?1:n)},P.compact=function(e){return P.filter(e,P.identity)};var C=function(e,n,t){return x(e,function(e){P.isArray(e)?n?s.apply(t,e):C(e,n,t):t.push(e)}),t};P.flatten=function(e,n){return C(e,n,[])},P.without=function(e){return P.difference(e,o.call(arguments,1))},P.uniq=P.unique=function(e,n,t,a){P.isFunction(n)&&(a=t,t=n,n=!1);var r=t?P.map(e,t,a):e,i=[],s=[];return x(r,function(t,a){(n?a&&s[s.length-1]===t:P.contains(s,t))||(s.push(t),i.push(e[a]))}),i},P.union=function(){return P.uniq(l.apply(a,arguments))},P.intersection=function(e){var n=o.call(arguments,1);return P.filter(P.uniq(e),function(e){return P.every(n,function(n){return P.indexOf(n,e)>=0})})},P.difference=function(e){var n=l.apply(a,o.call(arguments,1));return P.filter(e,function(e){return!P.contains(n,e)})},P.zip=function(){for(var e=o.call(arguments),n=P.max(P.pluck(e,"length")),t=Array(n),a=0;n>a;a++)t[a]=P.pluck(e,""+a);return t},P.object=function(e,n){if(null==e)return{};for(var t={},a=0,r=e.length;r>a;a++)n?t[e[a]]=n[a]:t[e[a][0]]=e[a][1];return t},P.indexOf=function(e,n,t){if(null==e)return-1;var a=0,r=e.length;if(t){if("number"!=typeof t)return a=P.sortedIndex(e,n),e[a]===n?a:-1;a=0>t?Math.max(0,r+t):t}if(w&&e.indexOf===w)return e.indexOf(n,t);for(;r>a;a++)if(e[a]===n)return a;return-1},P.lastIndexOf=function(e,n,t){if(null==e)return-1;var a=null!=t;if(b&&e.lastIndexOf===b)return a?e.lastIndexOf(n,t):e.lastIndexOf(n);for(var r=a?t:e.length;r--;)if(e[r]===n)return r;return-1},P.range=function(e,n,t){1>=arguments.length&&(n=e||0,e=0),t=arguments[2]||1;for(var a=Math.max(Math.ceil((n-e)/t),0),r=0,i=Array(a);a>r;)i[r++]=e,e+=t;return i},P.bind=function(e,n){if(e.bind===S&&S)return S.apply(e,o.call(arguments,1));var t=o.call(arguments,2);return function(){return e.apply(n,t.concat(o.call(arguments)))}},P.partial=function(e){var n=o.call(arguments,1);return function(){return e.apply(this,n.concat(o.call(arguments)))}},P.bindAll=function(e){var n=o.call(arguments,1);return 0===n.length&&(n=P.functions(e)),x(n,function(n){e[n]=P.bind(e[n],e)}),e},P.memoize=function(e,n){var t={};return n||(n=P.identity),function(){var a=n.apply(this,arguments);return P.has(t,a)?t[a]:t[a]=e.apply(this,arguments)}},P.delay=function(e,n){var t=o.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},P.defer=function(e){return P.delay.apply(P,[e,1].concat(o.call(arguments,1)))},P.throttle=function(e,n){var t,a,r,i,s=0,o=function(){s=new Date,r=null,i=e.apply(t,a)};return function(){var l=new Date,c=n-(l-s);return t=this,a=arguments,0>=c?(clearTimeout(r),r=null,s=l,i=e.apply(t,a)):r||(r=setTimeout(o,c)),i}},P.debounce=function(e,n,t){var a,r;return function(){var i=this,s=arguments,o=function(){a=null,t||(r=e.apply(i,s))},l=t&&!a;return clearTimeout(a),a=setTimeout(o,n),l&&(r=e.apply(i,s)),r}},P.once=function(e){var n,t=!1;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},P.wrap=function(e,n){return function(){var t=[e];return s.apply(t,arguments),n.apply(this,t)}},P.compose=function(){var e=arguments;return function(){for(var n=arguments,t=e.length-1;t>=0;t--)n=[e[t].apply(this,n)];return n[0]}},P.after=function(e,n){return 0>=e?n():function(){return 1>--e?n.apply(this,arguments):void 0}},P.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var n=[];for(var t in e)P.has(e,t)&&(n[n.length]=t);return n},P.values=function(e){var n=[];for(var t in e)P.has(e,t)&&n.push(e[t]);return n},P.pairs=function(e){var n=[];for(var t in e)P.has(e,t)&&n.push([t,e[t]]);return n},P.invert=function(e){var n={};for(var t in e)P.has(e,t)&&(n[e[t]]=t);return n},P.functions=P.methods=function(e){var n=[];for(var t in e)P.isFunction(e[t])&&n.push(t);return n.sort()},P.extend=function(e){return x(o.call(arguments,1),function(n){if(n)for(var t in n)e[t]=n[t]}),e},P.pick=function(e){var n={},t=l.apply(a,o.call(arguments,1));return x(t,function(t){t in e&&(n[t]=e[t])}),n},P.omit=function(e){var n={},t=l.apply(a,o.call(arguments,1));for(var r in e)P.contains(t,r)||(n[r]=e[r]);return n},P.defaults=function(e){return x(o.call(arguments,1),function(n){if(n)for(var t in n)null==e[t]&&(e[t]=n[t])}),e},P.clone=function(e){return P.isObject(e)?P.isArray(e)?e.slice():P.extend({},e):e},P.tap=function(e,n){return n(e),e};var M=function(e,n,t,a){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof P&&(e=e._wrapped),n instanceof P&&(n=n._wrapped);var r=c.call(e);if(r!=c.call(n))return!1;switch(r){case"[object String]":return e==n+"";case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var i=t.length;i--;)if(t[i]==e)return a[i]==n;t.push(e),a.push(n);var s=0,o=!0;if("[object Array]"==r){if(s=e.length,o=s==n.length)for(;s--&&(o=M(e[s],n[s],t,a)););}else{var l=e.constructor,u=n.constructor;if(l!==u&&!(P.isFunction(l)&&l instanceof l&&P.isFunction(u)&&u instanceof u))return!1;for(var d in e)if(P.has(e,d)&&(s++,!(o=P.has(n,d)&&M(e[d],n[d],t,a))))break;if(o){for(d in n)if(P.has(n,d)&&!s--)break;o=!s}}return t.pop(),a.pop(),o};P.isEqual=function(e,n){return M(e,n,[],[])},P.isEmpty=function(e){if(null==e)return!0;if(P.isArray(e)||P.isString(e))return 0===e.length;for(var n in e)if(P.has(e,n))return!1;return!0},P.isElement=function(e){return!(!e||1!==e.nodeType)},P.isArray=y||function(e){return"[object Array]"==c.call(e)},P.isObject=function(e){return e===Object(e)},x(["Arguments","Function","String","Number","Date","RegExp"],function(e){P["is"+e]=function(n){return c.call(n)=="[object "+e+"]"}}),P.isArguments(arguments)||(P.isArguments=function(e){return!(!e||!P.has(e,"callee"))}),P.isFunction=function(e){return"function"==typeof e},P.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},P.isNaN=function(e){return P.isNumber(e)&&e!=+e},P.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},P.isNull=function(e){return null===e},P.isUndefined=function(e){return void 0===e},P.has=function(e,n){return u.call(e,n)},P.noConflict=function(){return e._=n,this},P.identity=function(e){return e},P.times=function(e,n,t){for(var a=Array(e),r=0;e>r;r++)a[r]=n.call(t,r);return a},P.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=P.invert(T.escape);var D={escape:RegExp("["+P.keys(T.escape).join("")+"]","g"),unescape:RegExp("("+P.keys(T.unescape).join("|")+")","g")};P.each(["escape","unescape"],function(e){P[e]=function(n){return null==n?"":(""+n).replace(D[e],function(n){return T[e][n]})}}),P.result=function(e,n){if(null==e)return null;var t=e[n];return P.isFunction(t)?t.call(e):t},P.mixin=function(e){x(P.functions(e),function(n){var t=P[n]=e[n];P.prototype[n]=function(){var e=[this._wrapped];return s.apply(e,arguments),R.call(this,t.apply(P,e))}})};var F=0;P.uniqueId=function(e){var n=++F+"";return e?e+n:n},P.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;P.template=function(e,n,t){var a;t=P.defaults({},t,P.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(n,t,a,r,o){return s+=e.slice(i,o).replace(O,function(e){return"\\"+I[e]}),t&&(s+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),a&&(s+="'+\n((__t=("+a+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),i=o+n.length,n}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{a=Function(t.variable||"obj","_",s)}catch(o){throw o.source=s,o}if(n)return a(n,P);var l=function(e){return a.call(this,e,P)};return l.source="function("+(t.variable||"obj")+"){\n"+s+"}",l},P.chain=function(e){return P(e).chain()};var R=function(e){return this._chain?P(e).chain():e};P.mixin(P),x(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=a[e];P.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!=e&&"splice"!=e||0!==t.length||delete t[0],R.call(this,t)}}),x(["concat","join","slice"],function(e){var n=a[e];P.prototype[e]=function(){return R.call(this,n.apply(this._wrapped,arguments))}}),P.extend(P.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(e,n,t){"use strict";function a(e,n){return w(new(w(function(){},{prototype:e})),n)}function r(e){return g(arguments,function(n){n!==e&&g(n,function(n,t){e.hasOwnProperty(t)||(e[t]=n)})}),e}function i(e,n,t){this.fromConfig=function(e,n,t){return p(e.template)?this.fromString(e.template,n):p(e.templateUrl)?this.fromUrl(e.templateUrl,n):p(e.templateProvider)?this.fromProvider(e.templateProvider,n,t):null},this.fromString=function(e,n){return h(e)?e(n):e},this.fromUrl=function(t,a){return h(t)&&(t=t(a)),null==t?null:e.get(t,{cache:n}).then(function(e){return e.data})},this.fromProvider=function(e,n,a){return t.invoke(e,null,a||{params:n})}}function s(e){function n(n){if(!/^\w+$/.test(n))throw Error("Invalid parameter name '"+n+"' in pattern '"+e+"'");if(i[n])throw Error("Duplicate parameter name '"+n+"' in pattern '"+e+"'");i[n]=!0,c.push(n)}function t(e){return e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var a,r=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,i={},s="^",o=0,l=this.segments=[],c=this.params=[];this.source=e;for(var u,d,p;(a=r.exec(e))&&(u=a[2]||a[3],d=a[4]||("*"==a[1]?".*":"[^/]*"),p=e.substring(o,a.index),!(p.indexOf("?")>=0));)s+=t(p)+"("+d+")",n(u),l.push(p),o=r.lastIndex;p=e.substring(o);var h=p.indexOf("?");if(h>=0){var f=this.sourceSearch=p.substring(h);p=p.substring(0,h),this.sourcePath=e.substring(0,o+h),g(f.substring(1).split(/[&?]/),n)}else this.sourcePath=e,this.sourceSearch="";s+=t(p)+"$",l.push(p),this.regexp=RegExp(s),this.prefix=l[0]}function o(){this.compile=function(e){return new s(e)},this.isMatcher=function(e){return e instanceof s},this.$get=function(){return this}}function l(e){function n(e){var n=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=n?n[1].replace(/\\(.)/g,"$1"):""}function t(e,n){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]})}function a(e,n,t){if(!t)return!1;var a=n(t,e);return p(a)?a:!0}var r=[],i=null;this.rule=function(e){if(!h(e))throw Error("'rule' must be a function");return r.push(e),this},this.otherwise=function(e){if(f(e)){var n=e;e=function(){return n}}else if(!h(e))throw Error("'rule' must be a function");return i=e,this},this.when=function(r,i){var s,o;if(f(r)&&(r=e.compile(r)),e.isMatcher(r)){if(f(i))o=e.compile(i),i=function(e){return o.format(e)};else if(!h(i))throw Error("invalid 'handler' in when()");s=function(e){return a(e,i,r.exec(e.path(),e.search()))},s.prefix=f(r.prefix)?r.prefix:""}else{if(!(r instanceof RegExp))throw Error("invalid 'what' in when()");if(f(i))o=i,i=function(e){return t(o,e)};else if(!h(i))throw Error("invalid 'handler' in when()");if(r.global||r.sticky)throw Error("when() RegExp must not be global or sticky");s=function(e){return a(e,i,r.exec(e.path()))},s.prefix=n(r)}return this.rule(s)},this.$get=["$location","$rootScope",function(e,n){function t(){var n,t,a=r.length;for(n=0;a>n;n++)if(t=r[n](e)){f(t)&&e.replace().url(t);break}}return i&&r.push(i),n.$on("$locationChangeSuccess",t),{}}]}function c(e,n){function t(e){var n;if(f(e)){if(n=u[e],!n)throw Error("No such state '"+e+"'")}else if(n=u[e.name],!n||n!==e&&n.self!==e)throw Error("Invalid or unregistered state");return n}function i(r){r=a(r,{self:r,toString:function(){return this.name}});var i=r.name;if(!f(i)||i.indexOf("@")>=0)throw Error("State must have a valid name");if(u[i])throw Error("State '"+i+"'' is already defined");var s=l;if(p(r.parent))null!=r.parent&&(s=t(r.parent));else{var o=/^(.+)\.[^.]+$/.exec(i);null!=o&&(s=t(o[1]))}r.parent=s;var d=r.url;if(f(d))d=r.url="^"==d.charAt(0)?n.compile(d.substring(1)):(s.navigable||l).url.concat(d);else if(m(d)&&h(d.exec)&&h(d.format)&&h(d.concat));else if(null!=d)throw Error("Invalid url '"+d+"' in state '"+r+"'");r.navigable=d?r:s?s.navigable:null;var b=r.params;if(b){if(!v(b))throw Error("Invalid params in state '"+r+"'");if(d)throw Error("Both params and url specicified in state '"+r+"'")}else b=r.params=d?d.parameters():r.parent.params;var y={};if(g(b,function(e){y[e]=!0}),s){g(s.params,function(e){if(!y[e])throw Error("Missing required parameter '"+e+"' in state '"+i+"'");y[e]=!1});var k=r.ownParams=[];g(y,function(e,n){e&&k.push(n)})}else r.ownParams=b;var S={};g(p(r.views)?r.views:{"":r},function(e,n){0>n.indexOf("@")&&(n=n+"@"+r.parent.name),S[n]=e}),r.views=S,r.path=s?s.path.concat(r):[];var P=r.includes=s?w({},s.includes):{};return P[i]=!0,r.resolve||(r.resolve={}),!r.abstract&&d&&e.when(d,function(e){c.transitionTo(r,e,!1)}),u[i]=r,r}function s(e,n){return m(e)?n=e:n.name=e,i(n),this}function o(e,n,i,s,o,u){function d(e,t,a,o,l){function c(t,a){g(t,function(t,r){d.push(n.when(f(t)?s.get(t):s.invoke(t,e.self,p)).then(function(e){a[r]=e}))})}var u,d=[o];a?u=t:(u={},g(e.params,function(e){u[e]=t[e]}));var p={$stateParams:u},h=l.globals={$stateParams:u};return c(e.resolve,h),h.$$state=e,g(e.views,function(t,a){var r=l[a]={$$controller:t.controller};d.push(n.when(i.fromConfig(t,u,p)||"").then(function(e){r.$template=e})),t.resolve!==e.resolve&&c(t.resolve,r)}),n.all(d).then(function(n){return r(l.globals,n[0].globals),g(e.views,function(e,n){r(l[n],l.globals)}),l})}function h(e,n,t){for(var a=0;t.length>a;a++){var r=t[a];if(e[r]!=n[r])return!1}return!0}var m=n.reject(Error("transition superseded")),v=n.reject(Error("transition prevented"));return c={params:{},current:l.self,$current:l,transition:null},c.transitionTo=function(r,i,f){if(p(f)||(f=!0),r=t(r),r.abstract)throw Error("Cannot transition to abstract state '"+r+"'");var w,y,k=r.path,S=c.$current,P=c.params,x=S.path,$=l.locals,j=[];for(w=0,y=k[w];y&&y===x[w]&&h(i,P,y.ownParams);w++,y=k[w])$=j[w]=y.locals;if(r===S&&$===S.locals)return c.transition=null,n.when(c.current);var A={};if(g(r.params,function(e){var n=i[e];A[e]=null!=n?n+"":null}),i=A,e.$broadcast("$stateChangeStart",r.self,i,S.self,P).defaultPrevented)return v;for(var E=n.when($),C=w;k.length>C;C++,y=k[C])$=j[C]=a($),E=d(y,i,y===r,E,$);var M=c.transition=E.then(function(){var n,t,a;if(c.transition!==M)return m;for(n=x.length-1;n>=w;n--)a=x[n],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(n=w;k.length>n;n++)t=k[n],t.locals=j[n],t.self.onEnter&&s.invoke(t.self.onEnter,t.self,t.locals.globals);c.$current=r,c.current=r.self,c.params=i,b(c.params,o),c.transition=null;var l=r.navigable;return f&&l&&u.url(l.url.format(l.locals.globals.$stateParams)),e.$broadcast("$stateChangeSuccess",r.self,i,S.self,P),c.current},function(t){return c.transition!==M?m:(c.transition=null,e.$broadcast("$stateChangeError",r.self,i,S.self,P,t),n.reject(t))});return M},c.is=function(e){return c.$current===t(e)},c.includes=function(e){return c.$current.includes[t(e).name]},c}var l,c,u={};l=i({name:"",url:"^",views:null,"abstract":!0}),l.locals={globals:{$stateParams:{}}},l.navigable=null,this.state=s,this.$get=o,o.$inject=["$rootScope","$q","$templateFactory","$injector","$stateParams","$location","$urlRouter"]}function u(e,t,a,r,i){var s;try{s=r.get("$animator")}catch(o){}var l={restrict:"ECA",terminal:!0,link:function(r,o,c){function u(){var s=e.$current&&e.$current.locals[h];if(s!==p)if(d&&(m?m.leave(o.contents(),o):o.html(""),d.$destroy(),d=null),s){p=s,g.state=s.$$state;var l;m?(l=n.element("<div></div>").html(s.$template).contents(),m.enter(l,o)):(o.html(s.$template),l=o.contents());var c=t(l);if(d=r.$new(),s.$$controller){s.$scope=d;var u=a(s.$$controller,s);o.children().data("$ngControllerController",u)}c(d),d.$emit("$viewContentLoaded"),d.$eval(f),i()}else p=null,g.state=null}var d,p,h=c[l.name]||c.name||"",f=c.onload||"",m=s&&s(r,c),v=o.parent().inheritedData("$uiView");0>h.indexOf("@")&&(h=h+"@"+(v?v.state.name:""));
var g={name:h,state:null};o.data("$uiView",g),r.$on("$stateChangeSuccess",u),u()}};return l}function d(e,n){function r(e){this.locals=e.locals.globals,this.params=this.locals.$stateParams}function i(){this.locals=null,this.params=null}function s(t,s){if(null!=s.redirectTo){var o,c=s.redirectTo;if(f(c))o=c;else{if(!h(c))throw Error("Invalid 'redirectTo' in when()");o=function(e,n){return c(e,n.path(),n.search())}}n.when(t,o)}else e.state(a(s,{parent:null,name:"route:"+encodeURIComponent(t),url:t,onEnter:r,onExit:i}));return l.push(s),this}function o(e,n,a){function r(e){return""!==e.name?e:t}var i={routes:l,params:a,current:t};return n.$on("$stateChangeStart",function(e,t,a,i){n.$broadcast("$routeChangeStart",r(t),r(i))}),n.$on("$stateChangeSuccess",function(e,t,a,s){i.current=r(t),n.$broadcast("$routeChangeSuccess",r(t),r(s)),b(a,i.params)}),n.$on("$stateChangeError",function(e,t,a,i,s,o){n.$broadcast("$routeChangeError",r(t),r(i),o)}),i}var l=[];r.$inject=["$$state"],this.when=s,this.$get=o,o.$inject=["$state","$rootScope","$routeParams"]}var p=n.isDefined,h=n.isFunction,f=n.isString,m=n.isObject,v=n.isArray,g=n.forEach,w=n.extend,b=n.copy;n.module("ui.util",["ng"]),n.module("ui.router",["ui.util"]),n.module("ui.state",["ui.router","ui.util"]),n.module("ui.compat",["ui.state"]),i.$inject=["$http","$templateCache","$injector"],n.module("ui.util").service("$templateFactory",i),s.prototype.concat=function(e){return new s(this.sourcePath+e+this.sourceSearch)},s.prototype.toString=function(){return this.source},s.prototype.exec=function(e,n){var t=this.regexp.exec(e);if(!t)return null;var a,r=this.params,i=r.length,s=this.segments.length-1,o={};for(a=0;s>a;a++)o[r[a]]=decodeURIComponent(t[a+1]);for(;i>a;a++)o[r[a]]=n[r[a]];return o},s.prototype.parameters=function(){return this.params},s.prototype.format=function(e){var n=this.segments,t=this.params;if(!e)return n.join("");var a,r,i,s=n.length-1,o=t.length,l=n[0];for(a=0;s>a;a++)i=e[t[a]],null!=i&&(l+=i),l+=n[a+1];for(;o>a;a++)i=e[t[a]],null!=i&&(l+=(r?"&":"?")+t[a]+"="+encodeURIComponent(i),r=!0);return l},n.module("ui.util").provider("$urlMatcherFactory",o),l.$inject=["$urlMatcherFactoryProvider"],n.module("ui.router").provider("$urlRouter",l),c.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],n.module("ui.state").value("$stateParams",{}).provider("$state",c),u.$inject=["$state","$compile","$controller","$injector","$anchorScroll"],n.module("ui.state").directive("uiView",u),d.$inject=["$stateProvider","$urlRouterProvider"],n.module("ui.compat").provider("$route",d).directive("ngView",u)}(window,window.angular),angular.module("app",["ui.compat","features","demo","about","ParseServices","ExternalDataServices","forms"]).value("$anchorScroll",angular.noop).config(["$stateProvider","$urlRouterProvider","$locationProvider","$anchorScrollProvider",function(e,n){n.otherwise("/"),e.state("code",{url:"/code",controller:"aboutController",templateUrl:"app/views/about.html"})}]).run(["ParseSDK","ExtendParseSDK","$rootScope","$state","$stateParams",function(e,n,t,a,r){t.$state=a,t.$stateParams=r}]),angular.module("demo",["ui.compat","ParseServices","ExternalDataServices"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e){e.state("demo",{"abstract":!0,templateUrl:"app/views/app-layout.html"}).state("demo.crud",{url:"/",views:{"panel@demo":{templateUrl:"app/views/demo.html"},"detail@demo.crud":{templateUrl:"app/views/detail/crud.list.html"}}}).state("demo.crud.detail",{url:"crud/{monsterId}",views:{"detail@demo.crud":{templateUrl:"app/views/detail/crud.detail.html"}}}).state("demo.crud.detail.edit",{url:"/edit",views:{"detail@demo.crud":{templateUrl:"app/views/detail/crud.detail.edit.html"}}})}]),angular.module("features",["ui.compat","ParseServices","ExternalDataServices"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e){e.state("features",{"abstract":!0,templateUrl:"app/views/app-layout.html"}).state("features.list",{url:"/features",views:{"panel@features":{templateUrl:"app/views/demo.html"},"detail@features.list":{templateUrl:"app/views/detail/features.list.html"}}}).state("features.list.facebook",{url:"/facebook",views:{"detail@features.list":{templateUrl:"app/views/detail/features.list.facebook.html"}}}).state("features.list.parse",{url:"/parse",views:{"detail@features.list":{templateUrl:"app/views/detail/features.list.parse.html"}}}).state("features.list.parseSDK",{url:"/parse-sdk",views:{"detail@features.list":{templateUrl:"app/views/detail/features.list.parse-sdk.html"}}}).state("features.list.data",{url:"/data",views:{"detail@features.list":{templateUrl:"app/views/detail/features.list.data.html"}}})}]),angular.module("forms",[]).directive("editMonsterForm",["ParseQueryAngular","$location",function(e,n){var t=function(e,n,t){e.append('<div id="'+n+'" class="important-white-back opacity-9 loading absolute top" style="width:100%; height:100%;"><div class="v-outer-container" style="height: 100%"><div class="v-inner-container"><div class="v-aligned-content big-top-margin"><span class="muted">'+t+"</span></div></div></div></div>")};return{restrict:"A",scope:{monsterToSave:"="},link:function(e,a){e.editedMonster={name:null,scaryMove:null},e.$watch("monsterToSave.attributes.name",function(n){e.editedMonster.name=n}),e.$watch("monsterToSave.attributes.scaryMove",function(n){e.editedMonster.scaryMove=n}),e.saveMonster=function(){var r=$("#loadingContainer");t(r,"savingForm","Saving Monster"),a.find("button").attr("disabled","disabled"),e.monsterToSave.setName(e.editedMonster.name),e.monsterToSave.setScaryMove(e.editedMonster.scaryMove),e.monsterToSave.saveParse().then(function(e){$("#savingForm").remove(),n.path("/crud/"+e.id)},function(e){alert("Error saving to Parse, check the console and network tab"),console.log(e)})}}}}]),angular.module("about",["ui.compat","ParseServices","ExternalDataServices"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e){e.state("about",{"abstract":!0,templateUrl:"app/views/app-layout.html"}).state("about.list",{url:"/about",views:{"panel@about":{templateUrl:"app/views/demo.html"},"detail@about.list":{templateUrl:"app/views/detail/about.list.html"}}}).state("about.list.state",{url:"/state",views:{"detail@about.list":{templateUrl:"app/views/detail/about.list.state.html"}}}).state("about.list.theme",{url:"/theme",views:{"detail@about.list":{templateUrl:"app/views/detail/about.list.theme.html"}}}).state("about.list.bootstrap",{url:"/bootstrap",views:{"detail@about.list":{templateUrl:"app/views/detail/about.list.bootstrap.html"}}}).state("about.list.fontAwesome",{url:"/font-awesome",views:{"detail@about.list":{templateUrl:"app/views/detail/about.list.font-awesome.html"}}})}]),angular.module("app").controller("MenuController",["$scope","$state",function(e,n){e.menuCtrl={menu:[{name:"Parse Demo",state:"demo",icon:"icon-user",href:"#/"},{name:"Code",state:"code",icon:"icon-github",href:"http://www.github.com/brandid/parse-angular-demo"}]},e.isActive=function(e){return n.current.name.indexOf(e.state)>=0?"active":void 0}}]),angular.module("demo").controller("MasterDetailController",["$rootScope","$scope","$state","MonsterService",function(e,n,t,a){n.masterDetailCtrl={animate:{enter:"waveForward-enter",leave:"waveForward-leave"},menu:[{title:"CRUD Example",icon:"icon-th-list",path:"#/",state:"demo.crud"},{title:"Features",icon:"icon-bolt",path:"#/features/",state:"features.list"},{title:"About",icon:"icon-info-sign",path:"#/about/",state:"about.list"}],features:[{title:"Parse & Facebook SDK",icon:"icon-facebook-sign",path:"#/features/facebook"},{title:"Angular Wrapper for Parse API calls",icon:"icon-cloud",path:"#/features/parse"},{title:"Extend Parse SDK for Angular Promises",icon:"icon-cogs",path:"#/features/parse-sdk"},{title:"Use Backbone for Models & Collections",icon:"icon-heart",path:"#/features/data"}],about:[{title:"Angular State Manager",icon:"icon-sitemap",path:"#/about/state"},{title:"BRANDiD UI Kit",icon:"icon-tint",path:"#/about/theme"},{title:"SASS Bootstrap",icon:"icon-twitter",path:"#/about/bootstrap"},{title:"Font Awesome",icon:"icon-flag",path:"#/about/font-awesome"}]};var r=a.collection;n.masterDetailCtrl.collection=new r,n.fetchMonstersPromise=n.masterDetailCtrl.collection.load(),n.animate=function(){return{enter:"waveForward-enter",leave:"waveForward-leave"}},n.goBackTo=function(e){t.transitionTo(e)},n.transitionTo=function(e){t.transitionTo(e)},n.isActiveState=function(e){return t.current.name.indexOf(e)>=0?"light-back":void 0},n.createMonster=function(){n.masterDetailCtrl.collection.addMonster("Joe","exploding feces").then(function(){alert("OMG you created a monster named: "+n.masterDetailCtrl.collection.last().get("name"))})},n.destroyMonster=function(e){e.destroyParse().then(function(){alert("Destroyed model with destroyParse()"),t.transitionTo("demo.crud")})}}]),angular.module("demo").controller("DetailController",["$rootScope","$scope","$state","$stateParams","MonsterService",function(e,n,t,a){n.detailCtrl={current:null},n.fetchMonstersPromise.then(function(e){n.detailCtrl.current=e.find(function(e){return e.id==a.monsterId})}),n.transitionTo=function(e){t.transitionTo(e)},n.isActiveState=function(e){return e==t.current.name?"light-back":void 0}}]),angular.module("app").run(["$templateCache",function(e){e.put("app/test/e2e/runner.html",'<!doctype html>\n<html lang="en">\n  <head>\n    <title>End2end Test Runner</title>\n    <script src="../../../../components/angular-scenario/angular-scenario.js" ng-autotest></script>\n    <script src="scenarios.js"></script>\n  </head>\n  <body>\n  </body>\n</html>\n'),e.put("app/views/about.html",'<section class="jumbotron">\n  <h1>Welcome!</h1>\n\n  <p class="lead">\n    You\'re ready to start working on your next Parse AngularJS app!\n  </p>\n\n  <a ng-click="createMonster()" class="btn btn-secondary">Create Monster</a>\n  <br/>\n  The New Monster ID is: {{ homeCtrl.monster.id }}\n</section>\n\n<hr>\n\n<div class="row-fluid">\n  <div class="npm packages span6">\n    <h3><a href="https://npmjs.org/">NPM</a> Packages</h3>\n\n    <table class="table table-striped table-bordered table-hover table-condensed">\n      <tbody>\n        <tr ng-repeat="(module, version) in server.data.dependencies | orderBy:module">\n          <th>\n            <a ng-href="https://npmjs.org/package/{{ module }}">{{ module }}</a>\n          </th>\n          <td class="text-right">\n            {{ version }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <div class="bower packages span6">\n    <h3><a href="http://bower.io/">Bower</a> Packages</h3>\n    <pre>\n      \n      {{ client.data.dependencies }}\n\n    </pre>\n    <table class="table table-striped table-bordered table-hover table-condensed">\n      <tbody>\n        <tr ng-repeat="(module, version) in client.data.dependencies">\n          <th>\n            {{ module }}\n          </th>\n          <td class="text-right">\n            {{ version }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'),e.put("app/views/app-layout.html",'<div ui-view="subheader"></div>\n\n<!-- <div ng-include src="\'views/shopper/profile-subheader.html\'"></div> -->\n\n<div class="container med-grey-back dark-dust top-margin">\n\n    <div class="med-grey-back dark-dust">\n\n        <div class="row-fluid">\n\n            <div class="span10-90 expands-phone">\n              <div ng-include src="\'app/views/leftnav.html\'"></div>\n            </div>\n\n            <div class="span90-10 contracts-phone light-back shadow-ninja left-dark right-dark hide-overflow">\n                <div ui-view="panel"></div>\n            </div>\n        </div>\n    </div>      \n</div>'),e.put("app/views/debug.html",'<div class="row-fluid center-align">\n	<h5 class="power">App State</h5>\n</div>\n<pre>\n$state = {{$state.current.name}}\n$stateParams = {{$stateParams}}\n</pre>'),e.put("app/views/demo.html",'<div ng-controller="MasterDetailController">\n	\n	<div class="one-third light-dark-back shadow-ninja right-light inset" style="height: 1500px">\n\n		<div class="row-fluid top-padding bottom-padding width-padding light-border-top light-border-bottom">\n			<div ng-include src="\'/app/views/debug.html\'"></div>\n			<!-- <h3 class="punchy">Your Profile is {{profileCompletion | number:0 }}% Complete</h3> -->\n			<!-- <div class="row-fluid">\n				<div class="large center-align row-fluid">\n					<h1 class="power muted"><i class="icon icon-user icon-large small-right-margin"></i></h1>					\n				</div>\n			</div> -->\n\n			<!-- <div class="row-fluid tiny-top-margin progress progress-warning progress-striped active withShadow height-tiny"> -->\n			  <!-- <div class="bar bar-success" style="width: {{profileCompletion | number:0 }}%;"></div> -->\n			<!-- </div> -->\n			\n		</div>\n\n		<!-- <div class="horizontal-line full-fade"></div> -->\n\n		<a  ng-click="transitionTo(item.state)"\n			href=""\n			class="block light-back-hover width-padding row-fluid top-padding bottom-padding light-border-top light-border-bottom"\n			ng-class="isActiveState(item.state)"\n			ng-repeat="item in masterDetailCtrl.menu"\n		>\n			<div class="span3 center-align">\n				<h4 class="power muted no-height-margin line height-btn">\n					<i class="icon {{item.icon}} small-right-margin"></i>\n				</h4>\n			</div>\n			<div class="span7">\n				<h4 class="punchy muted no-height-margin line height-btn">\n					{{item.title}}\n				</h4>\n			</div>\n			<div class="span1 pull-right">\n				<h4 class="muted no-height-margin line height-btn"><i class="icon icon-chevron-right"></i></h4>\n			</div>\n		</a>\n		\n		<div class="row-fluid width-padding top-margin">\n			<!-- <div ui-view="tip"></div> -->\n		</div>\n\n	</div>\n\n	<div class="two-thirds">\n		<div ui-view="detail" class="relative" ng-animate="animate()"></div>\n	</div>\n\n</div>'),e.put("app/views/detail/about.list.bootstrap.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/about">\n      Back\n    </a>\n\n        <h1 class="title trans">SASS Twitter Bootstrap</h1>\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-twitter small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n          	<h4 class="punchy">Because who actually uses LESS?</h4>\n            \n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        <span class="muted">We use <a href="https://github.com/thomas-mcdonald/bootstrap-sass">sass-bootstrap</a> which is just a version of Bootstrap converted to SASS. </span>\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/about" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/about.list.font-awesome.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/about">\n      Back\n    </a>\n\n        <h1 class="title trans">Font Awesome</h1>\n\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-flag small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n          	<h4 class="punchy">Font Awesome is Awesome</h4>\n            \n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        <span class="muted">Anything with the word <a href="http://fortawesome.github.io/Font-Awesome/icons/">awesome</a> in its name better be pretty damn good. Luckily it is.</span>\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/about" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/about.list.html",'<div class="row-fluid">\n	<div class="navi-bar-title dark trans">\n		<h1 class="punchy title trans">About</h1>\n	</div>\n\n	<div class="row-fluid width-padding top-padding bottom-padding">\n\n		<div class="row-fluid center-align">\n			<div class="row-fluid">\n				<h1 class="punchy muted light-text-shadow"><i class="icon icon-info-sign small-right-margin"></i></h1>				\n			</div>\n			<div class="row-fluid bottom-margin">\n				<div class="row-fluid center-align">\n					<span class="muted">We love Parse, Backbone.js and AngularJS. We hate servers.<br/><br/>Whilst building <a href="https://www.getbrandid.com">getbrandid.com</a> we developed some best practices around this stack, so we decided to open source it here. We even talked about it on the <a target="_blank" href="http://blog.parse.com/">Parse Blog</a>.<br/><br/>This boilerplate is great for launching complex database enabled apps really fast. Let us know what we can improve via twitter!</span>\n				</div>	\n				<div class="row-fluid small-top-margin">\n				<a href="https://twitter.com/spacenick" class="twitter-follow-button" data-show-count="false">Follow @spacenick</a>\n<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\'http\':\'https\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\'://platform.twitter.com/widgets.js\';fjs.parentNode.insertBefore(js,fjs);}}(document, \'script\', \'twitter-wjs\');</script> <a href="https://twitter.com/arush" class="twitter-follow-button" data-show-count="false">Follow @arush</a>\n<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\'http\':\'https\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\'://platform.twitter.com/widgets.js\';fjs.parentNode.insertBefore(js,fjs);}}(document, \'script\', \'twitter-wjs\');</script>\n			</div>\n			</div>\n			\n		</div>\n		<div class="row-fluid white-back withShadow withRadius center-align">\n			\n\n			<a href="{{item.path}}"\n				class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top line height-med"\n				ng-repeat="item in masterDetailCtrl.about"\n				ng-animate="{ enter: \'waveForward-enter\', leave: \'waveForward-leave\' }"\n			>\n				<div class="span11 muted left-align">\n					<div class="med-width-padding">\n						<div class="pull-left small-right-margin">\n							<i class="icon {{item.icon}} icon-large muted small-right-margin"></i><span class="small-left-margin punchy bold">{{item.title}}</span> \n						</div>\n					</div>\n				</div>\n				\n				<div class="span1 muted pull-right"><i class="icon icon-chevron-right"></i></div>\n			</a>\n\n		</div>\n	</div>\n		\n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/about.list.state.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/about">\n      Back\n    </a>\n\n        <h1 class="title trans">Angular State Manager</h1>\n\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-sitemap small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n          	<h4 class="punchy">Ui-router</h4>\n            \n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        <span class="muted">We use <span class="bold"><a href="https://github.com/angular-ui/ui-router">ui-router</a></span> instead of the core Angular router because it handles application states excellently, a lot like the <a href="http://emberjs.com/api/classes/Ember.Router.html">Ember.Router</a>. This is important when building a large complex app, as you often need a better way to handle nested views, parent views and have the ability to override them depending on the application\'s state.</span>\n\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/about" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/about.list.theme.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/about">\n      Back\n    </a>\n\n        <h1 class="title trans">BRAND<span class="lowercase">i</span>D UI Kit</h1>\n\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-tint small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n          	<h4 class="punchy">Master Detail Theme + OOCSS + SASS</h4>\n            \n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        <span class="muted">We developed a <a href="https://github.com/brandid/parse-angular-demo/blob/master/app/styles/_brandid-ui.scss">UI Kit</a> that augments Twitter Bootstrap with some awesome helper classes, animations and this master-detail theme you\'re looking at now.</span>\n      <br/><br/>\n        <span class="muted">We subscribe to our friend <a href="http://ianstormtaylor.com/oocss-plus-sass-is-the-best-way-to-css/">Ian Storm Taylor</a>\'s philosophy of OOCSS + Sass, and our UI Kit is pretty flexible, so we hardly ever have to write ANY new classes when developing new features. This means our CSS filesize remains relatively constant.</span>\n\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/about" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/crud.detail.edit.html",'<div class="row-fluid" ng-controller="DetailController">\n	<div class="navi-bar-title dark trans">\n\n		<a class="navi-button-prev trans" href="#/crud/{{detailCtrl.current.id}}">\n			Back\n		</a>\n\n		    <h1 class="title trans">Edit Monster</h1>\n\n	</div>\n\n	<div class="row-fluid width-padding top-padding bottom-padding">\n\n		<div class="row-fluid center-align">\n			<div class="row-fluid bottom-margin">\n				<h1 class="punchy muted light-text-shadow"><i class="icon icon-user small-right-margin"></i></h1>				\n			</div>\n		</div>\n\n		<div id="loadingContainer" class="relative row-fluid">\n			<div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n		\n				<div class="row-fluid left-align">\n\n					<form edit-monster-form monster-to-save="detailCtrl.current" name="editForm" class="form-horizontal" ng-submit="saveMonster()" novalidate>\n					  <div class="control-group">\n					    <label class="control-label" for="inputEmail">Name</label>\n					    <div class="controls">\n					      <input style="width:97%" type="text" ng-model="editedMonster.name" placeholder="Email" required>\n					    </div>\n					  </div>\n					  <div class="control-group">\n					    <label class="control-label" for="inputPassword">Special Move</label>\n					    <div class="controls">\n					      <input style="width:97%" type="text" ng-model="editedMonster.scaryMove" required>\n					    </div>\n					  </div>\n					  <div class="control-group">\n					    <div class="controls">\n					      <button type="submit" ng-disabled="editForm.$invalid" class="btn btn-block btn-large btn-success">Save To Parse</button>\n					    </div>\n					  </div>\n					</form>\n\n				</div>\n					\n\n			</div>\n		</div>\n\n		<div class="row-fluid"></div>\n		\n	</div>\n		\n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/crud.detail.html",'<div class="row-fluid" ng-controller="DetailController">\n	<div class="navi-bar-title dark trans">\n\n		<a class="navi-button-prev trans" ng-click="goBackTo(\'demo.crud\')">\n			<i class="icon icon-th-list small-right-margin "></i>List\n		</a>\n\n		    <h1 class="title trans">Monster Detail</h1>\n\n		<a class="navi-button trans" href="#/crud/{{detailCtrl.current.id}}/edit">\n			Edit\n		</a>\n\n	</div>\n\n	<div class="row-fluid width-padding top-padding bottom-padding">\n\n		<div class="row-fluid center-align">\n			<div class="row-fluid bottom-margin">\n				<h1 class="punchy muted light-text-shadow"><i class="icon icon-user small-right-margin"></i></h1>				\n			</div>\n		</div>\n		<div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n			\n\n			<div class="row-fluid">\n				<div class="row-fluid bottom-margin">\n					<div class="row-fluid center-align">\n						<h4 class="power">Monster\'s Name</h4>\n						<span class="muted">{{detailCtrl.current.get(\'name\')}}</span>\n					</div>\n\n				</div>\n\n			</div>\n				\n\n			<div class="horizontal-line full-fade top-margin bottom-margin"></div>\n			<h4 class="punchy">Scary Move</h4>\n			<span class="muted">{{detailCtrl.current.get(\'scaryMove\')}}</span>\n		</div>\n	\n		<div class="row-fluid top-margin">\n			<a ng-click="destroyMonster(detailCtrl.current)" class="btn btn-block btn-large btn-danger">Delete this model</a>			\n		</div>\n	</div>\n		\n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/crud.list.html",'<div class="row-fluid">\n	<div class="navi-bar-title dark trans">\n\n\n		    <h1 class="punchy title trans">CRUD</h1>\n\n		<a ng-click="createMonster()" class="navi-button trans">\n			<i class="icon icon-plus"></i>\n		</a>\n\n	</div>\n\n	<div class="row-fluid width-padding top-padding bottom-padding">\n\n		<div class="row-fluid center-align">\n			<div class="row-fluid">\n				<h1 class="punchy muted light-text-shadow"><i class="icon icon-th-list small-right-margin"></i></h1>				\n			</div>\n			<div class="row-fluid bottom-margin">\n				<div class="row-fluid center-align">\n					<span class="muted">Click the <i class="icon icon-plus-sign"></i> up top to create a new model!</span>\n				</div>	\n			</div>\n			\n		</div>\n		<div class="row-fluid white-back withShadow withRadius center-align">\n			\n\n			<a href="#/crud/{{item.id}}"\n				class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top line height-med"\n				ng-repeat="item in masterDetailCtrl.collection.models"\n				ng-animate="{ enter: \'waveForward-enter\', leave: \'waveForward-leave\' }"\n			>\n				<div class="span4 muted left-align">\n					<div class="med-width-padding">\n						<div class="pull-left small-right-margin">\n							<span class="punchy bold">Name:</span> \n						</div>\n						<div class="pull-left small-left-margin">\n							<span class="punchy">{{item.get(\'name\')}}</span>\n						</div>		\n					</div>\n				</div>\n				<div class="span7 muted left-align">\n					<div class="med-width-padding clearfix">\n						<div class="pull-left small-right-margin">\n							<span class="punchy bold">Scary Move:</span> \n						</div>\n						<div class="pull-left small-left-margin">\n							<span class="punchy">{{item.get(\'scaryMove\')}}</span>\n						</div>		\n					</div>\n				</div>\n				<div class="span1 muted pull-right"><i class="icon icon-chevron-right"></i></div>\n			</a>\n\n		</div>\n	</div>\n		\n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/features.list.data.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/features">\n      Back\n    </a>\n\n        <h1 class="title trans">AngularJS & Backbone</h1>\n\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-heart small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n            <h4 class="power">AngularJS + Backbone.js = <i class="icon icon-heart"></i></h4>\n            <span class="muted">AngularJS for views, Backbone for models</span>\n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        The awesome thing about the Parse Javascript SDK is that it\'s a fork of Backbone, so we can make use of the kickass Model and Collection architecture, but still use AngularJS for all UI events and views (this is where Backbone loses out to other frameworks).<br/><br/>\n\nThe best way to stay organised is to separate each Parse Object definition into a separate file in a<strong>data</strong> folder. Each definition is a factory of an overall Angular module we have called \'ExternalDataServices\' which you\'ll see is first declared above in #2. Extending the \'ExternalDataServices\' module with new factories is easy, just leave out the square brackets. Here\'s what our folder structure looks like with this architecture.<br/><br/>\n<pre>|-- app\n  |-- scripts\n    |-- modules\n      |-- data\n        // this is where all your model definitions \n        |-- Monster.js</pre>\nAnd this is what a Parse Object definition would look like:<br/><br/>\n\n<strong><a target="_blank" href="https://github.com/brandid/parse-angular-demo/blob/master/app/scripts/modules/data/Monsters.js">Monsters.js</a></strong>\n\n<pre>// Monster.js\n\n// reference the module we declared earlier\nangular.module(\'ExternalDataServices\')\n\n// add a factory\n.factory(\'MonsterService\', [\'ParseQueryAngular\', function(ParseQueryAngular) {\n\n  // use the extendAngular instead of just extend to gain enhanced Angular functionality\n\n  var Monster = Parse.Object.extendAngular({\n    className:"Monster",\n    setScaryMove: function(move) {\n      this.set(\'scaryMove\',move);\n      return this;\n    }\n  });\n  \n\n  // use the extendAngular instead of just extend to gain enhanced Angular functionality\n\n  var Monsters = Parse.Collection.extendAngular({\n    model: Monster,\n    loadMonstersWithMove: function(move) {\n      this.query = (new Parse.Query(Monster));\n\n      // use the enhanced load() function to fetch the collection\n      return this.load();\n    }\n  });\n\n  // Return a simple API : model or collection.\n  return {\n    model: Monster,\n    collection: Monsters\n  }\n\n}])</pre><br/>\nNow wherever we need a Monster model or collection, like in the directive below, we can instantiate it using the MonsterService like this:<br/><br/>\n<pre>// SomeDirective.js\n\n// inject the MonsterService into your directive\n\nangular.module(\'foo\',[]).directive(\'bar\',[\'MonsterService\',function(\n\n  return {\n    controller: [\'$scope\',\'$element\',\'$attrs\', function($scope, $element, $attrs) {\n\n      // new up a collection so we can use it to perform a query\n      var monsters = new MonsterService.collection;\n\n      // perform the Parse.Query\n      $scope.monsters = monsters.loadMonstersWithMove(\'fireBreath\');\n\n      // and remember its a promise, so we can add synchronous logic here with a .then()\n\n    }\n  }]\n\n}])</pre><br/>\nA great side-effect of injecting your Parse data services only when you need it is that AngularJS\'s awesome dependency injection system knows when to remove this stuff from memory. Also, if you build your app in a modular way, in Angular 2.0 you will also be able to take advantage of lazy loading modules which will speed up the load-time of your app tremendously.\n\n\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/features" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/features.list.facebook.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/features">\n      Back\n    </a>\n\n        <h1 class="title trans">Parse & Facebook SDK</h1>\n\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-facebook-sign small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n            <h4 class="power">Use a Promise to Init Parse.FacebookUtils</h4>\n            <span class="muted">Allowing you to Asynchronously Load the Parse SDK and the Facebook SDK</span>\n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        We all know that we should asynchronously load the Facebook SDK near the closing <span class="bold">body</span> tag to speed up page loads. We load the Parse SDK here too instead of in the <span class="bold">head </span>for the same reason. But if you try to<span class="bold"></span>asynchronously load the <span class="bold">Parse SDK andFacebook SDK</span> you will run into the problem where Parse will try to call FB.init() at some point, and the FB object does not exist because the Facebook SDK has not yet loaded.\n<br/><br/>\nWe developed an clever way to get around this. The key thing here is that Facebook calls a function <span class="bold">window.fbAsyncInit</span> as soon as the SDK is finished loading. We use this to resolve the <span class="bold">window.fbPromise</span>, which in turn is used to trigger <span class="bold">Parse.FacebookUtils.init()</span>. This method is flawless, and you never get any out of sync errors. Here\'s the code to define the <span class="bold">fbPromise</span>:<br/><br/>\n<strong><a target="_blank" href="https://github.com/brandid/parse-angular-demo/blob/master/index.html">index.html</a></strong>\n<pre>\n\n  var fbDeferred = $.Deferred();\n  window.fbPromise = fbDeferred.promise();\n  window.fbAsyncInit = function() {\n    fbDeferred.resolve();\n  };\n\n</pre>\n\n<br/>... and here\'s the code to subsequently trigger the init()<br/><br/>\n<strong><a target="_blank" href="https://github.com/brandid/parse-angular-demo/blob/master/app/scripts/services/ParseServices.js">ParseServices.js</a></strong>\n<pre>\n// FACEBOOK init\nwindow.fbPromise.then(function() {\n  Parse.FacebookUtils.init({\n    appId: /*** FB APP ID ***/, \n    channelUrl: /*** HTTP://YOURDOMAIN.COM/ ***/channel.html\',\n    cookie: true, // enable cookies to allow Parse to access the session\n    xfbml: true, // parse XFBML\n    frictionlessRequests: true // recommended\n  });\n});\n</pre>\n\nSimple, elegant, highly effective.\n\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/features" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/features.list.html",'<div class="row-fluid">\n	<div class="navi-bar-title dark trans">\n		<h1 class="punchy title trans">FEATURES</h1>\n	</div>\n\n	<div class="row-fluid width-padding top-padding bottom-padding">\n\n		<div class="row-fluid center-align">\n			<div class="row-fluid">\n				<h1 class="punchy muted light-text-shadow"><i class="icon icon-bolt small-right-margin"></i></h1>				\n			</div>\n			<div class="row-fluid bottom-margin">\n				<div class="row-fluid center-align">\n					<span class="muted">Some best practices from our <a href="#">guest blog post</a> on Parse.com</span>\n				</div>	\n			</div>\n			\n		</div>\n		<div class="row-fluid white-back withShadow withRadius center-align">\n			\n\n			<a href="{{item.path}}"\n				class="block row-fluid top-padding bottom-padding relative light-border-bottom white-border-top line height-med"\n				ng-repeat="item in masterDetailCtrl.features"\n				ng-animate="{ enter: \'waveForward-enter\', leave: \'waveForward-leave\' }"\n			>\n				<div class="span11 muted left-align">\n					<div class="med-width-padding">\n						<div class="pull-left small-right-margin">\n							<i class="icon {{item.icon}} icon-large muted small-right-margin"></i><span class="small-left-margin punchy bold">{{item.title}}</span> \n						</div>\n					</div>\n				</div>\n				\n				<div class="span1 muted pull-right"><i class="icon icon-chevron-right"></i></div>\n			</a>\n\n		</div>\n	</div>\n		\n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/features.list.parse-sdk.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/features">\n      Back\n    </a>\n\n        <h1 class="title trans">Extend Parse SDK</h1>\n\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-cogs small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n            <h4 class="power">Give Parse AngularJS Superpowers</h4>\n            <span class="muted">Extending Parse.Object gives all your Parse data load() and save() methods auto wrapping them in AngularJS promises</span>\n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        With the simple code below, we beefed up all our Parse objects and collections with enhanced functionality, allowing us to save and load any Parse.Object or Parse.Collection inside the AngularJS digest with finesse.<br/><br/>\n<strong><a target="_blank" href="https://github.com/brandid/parse-angular-demo/blob/master/app/scripts/services/ParseServices.js">ParseServices.js</a></strong>\n<pre>\n  Parse.Object.extendAngular = function(options) {\n    return ParseAbstractService.EnhanceObject(Parse.Object.extend(options));\n  };\n\n  Parse.Collection.extendAngular = function(options) {\n    return ParseAbstractService.EnhanceCollection(Parse.Collection.extend(options));\n  };\n</pre>\n<br/>It doesn\'t take a genius to notice that this requires something we called ParseAbstractService, which is a simple bit of code that adds the Parse.Object and Parse.Collection methods.<br/><br/>\n\n<strong><a target="_blank" href="https://github.com/brandid/parse-angular-demo/blob/master/app/scripts/modules/data/_ParseObjects.js">_ParseObjects.js</a></strong>\n\n<pre>angular.module(\'ExternalDataServices\',[])\n.factory(\'ParseAbstractService\', [\'ParseQueryAngular\', function(ParseQueryAngular) {\n /********\n This service provides an enhanced Parse.Object and Parse.Collection\n So we can call load and saveParse from any extending Class and have that wrapped\n within ParseQueryAngular\n **********/\n\n  var object = function(originalClass) {\n    originalClass.prototype = _.extend(originalClass.prototype,{\n      load:function() {\n        return ParseQueryAngular(this,{functionToCall:"fetch"});\n      },\n      saveParse:function(data) {\n        if (data &amp;&amp; typeof data == "object") this.set(data);\n        return ParseQueryAngular(this,{functionToCall:"save", params:[null]});\n      }\n    });\n   return originalClass;\n  }\n\n  var collection = function(originalClass){\n    originalClass.prototype = _.extend(originalClass.prototype,{\n      load:function() {\n        return ParseQueryAngular(this,{functionToCall:"fetch"});\n      }\n    });\n    return originalClass;\n  };\n\n  return {\n    EnhanceObject:object,\n    EnhanceCollection:collection\n  }\n}]);</pre><br/>\nWe can now make use of these new methods on any models or collections that extend Parse.Object.extendAngular or Parse.Collection.extendAngular, like so:<br/><br/>\n<pre>// =============\n// new way using enhanced Parse.Object\n// =============\n\nvar collection = new TestCollection();\ncollection.load();</pre><br/>\nFor a clearer idea of how much more awesome this is, below is the old way:<br/><br/>\n<pre>// ============\n// old way\n// ============\n\nvar collection = new TestCollection();\n\nvar defer = $q.defer();\n\n// fetch all models\ncollection.fetch({\n  success: function(result) {\n    $rootScope.$apply(function() {\n      defer.resolve(result);\n  },\n  error: function(error) {\n    $rootScope.$apply(function() {\n      defer.reject(error);\n    }\n  }\n});\n\ndefer.promise.then(function(data) {\n\n  collection = data;\n  // now, finally the collection is ready to use in AngularJS\n});</pre><br/>\nYuck! And you would have to repeat all that for every save or fetch!\n\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/features" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/detail/features.list.parse.html",'<div class="row-fluid">\n  <div class="navi-bar-title dark trans">\n\n    <a class="navi-button-prev trans" href="#/features">\n      Back\n    </a>\n\n        <h1 class="title trans">Parse Angular Wrapper</h1>\n\n\n  </div>\n\n  <div class="row-fluid width-padding top-padding bottom-padding">\n\n    <div class="row-fluid center-align">\n      <div class="row-fluid bottom-margin">\n        <h1 class="punchy muted light-text-shadow"><i class="icon icon-cloud small-right-margin"></i></h1>       \n      </div>\n    </div>\n    <div class="row-fluid white-back withShadow withRadius width-padding top-padding bottom-padding center-align">\n      \n\n      <div class="row-fluid" >\n        <div class="row-fluid bottom-margin">\n          <div class="row-fluid center-align">\n            <h4 class="power">A Service to Wrap All Parse Calls</h4>\n            <span class="muted">Saving you from writing the same code over and over</span>\n          </div>\n\n        </div>\n\n      </div>\n      <div class="row-fluid left-align muted">\n        We really love AngularJS. However, you often hit the WTF ZONE ofAngular, especially when you try to update scope variables outside of the "AngularKingdom". Since all your data will be pulled in asynchronously from Parse, you\'ll run in to this issue pretty quickly.\n\n        <br/><br/>\n        So we wrote<strong><a href="https://github.com/brandid/parse-angular-demo/blob/master/app/scripts/services/ParseQueryAngular.js">ParseQueryAngular</a></strong>, a simple AngularJS wrapper for the Parse JS SDK, saving gazillions of lines of code (at least), and we\'re also using deferred promises, because they\'re awesome. This allows you to call any Parse API method on any Parse.Object, pass in any parameters, and it wraps the result in a promise<em>inside</em> the "Angular Kingdom".\n\nHere\'s an example:<em></em><br/><br/>\n<pre>ParseQueryAngular(Parse.FacebookUtils,{functionToCall:"link", params:[user, "email,user_likes,publish_actions"]})</pre>\n        <br/>This single line of code calls Parse.FacebookUtils.link to connect the current Parse User with their Facebook account, and passes in some parameters for permissions and wraps the result in an AngularJS promise.\n\n        <br/><br/>If you\'re familiar with the Parse docs, you \'ll notice something magical here: there is no need to write the same old success: and error: functions every time you make an API call to Parse.\n\n        <br/><br/>If you\'re familiar with AngularJS you\'ll also notice something magical here: the result of the API call is automatically wrapped into the AngularJS digest for use within your $scope. No need to do any<strong> $scope.$apply </strong>nonsense. Here\'s another example that we do all the time:<br/><br/>\n<pre>var user = new Parse.User();\n\nuser.set(\'username\', \'spacenick\');\nuser.set(\'password\', \'sp4c3n1ck\');\nuser.set(\'email\',\'space@nick.com\');\n\nParseQueryAngular(user,{functionToCall:"signUp", params:[null]}).then(function(registeredUser) {\n\n    // since we know that the result will be inside the Angular digest, we make use of Angular\'s two-way data binding and automatically update all our views by simply updating the user object\n\n    user = registeredUser;\n\n    // we can even use it with Parse.Query\n    var query = new Parse.Query(MyObject);\n    query.include(\'myStuff\').equalTo(\'someRandom\',\'thing\');\n    return ParseQueryAngular(query);\n}).then(function(queriedObj) {\n\n    // assuming $scope.obj is used elsewhere in the app, this would update any views automatically\n    $scope.obj = queriedObj;\n\n    return queriedObj;\n}, function(error) {\n\n    // any rejected promises in the chain will be caught here\n    console.log(error);\n\n});</pre>\n<br/>\nWithout ParseQueryAngular, doing two API calls one after the other would have been a nightmare of asynchronous spaghetti mess with lots of repetitive callback handling code. We just tamed it into a synchronous process and our AngularJS views would have been auto-updated every step of the way thanks to two-way data binding.\n\n<br/><br/>We also didn\'t need write any repetitive success: error: functions. This is the guts of creating a seamless Parse x Angular integration, we use this anytime we need talk to Parse. Check out the <strong><a href="https://github.com/brandid/parse-angular-demo/blob/master/app/scripts/services/ParseQueryAngular.js">ParseQueryAngular</a></strong> source and read the code comments on how we did this.\n\n      </div>\n        \n\n    </div>\n\n    <div class="top-margin">\n      <a href="#/features" class="btn btn-block btn-secondary btn-large">Back</a>\n    </div>\n  </div>\n    \n</div>\n<div class="row-fluid ani delay-3 fadeIn" ng-include src="\'app/views/footer.html\'"></div>'),e.put("app/views/footer.html",'<div class="row-fluid big-top-margin width-padding big-bottom-margin">\n	<div class="muted white-back withShadow withRadius">\n		<div class="row-fluid width-padding top-padding bottom-padding">\n			<img src="http://brandid.s3.amazonaws.com/logo.png" alt="BRANDiD Logo" class="pull-left small-right-margin" width="90px"> If you found this useful, consider kicking shopping\'s ass at <a href="http://www.getbrandid.com">getbrandid.com</a>\n		</div>\n	</div>\n</div>'),e.put("app/views/header.html",'<header class="row-fluid center-align">\n	<div class="row-fluid top-margin">\n		<h2 class="lightest-text text-shadow" style="text-transform:none">AngularJS x Backbone.js x Parse Boilerplate</h2>	\n	</div>\n\n	<div class="row-fluid small-top-margin">\n		<iframe src="http://ghbtns.com/github-btn.html?user=brandid&repo=parse-angular-demo&type=watch&count=true"\n  allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>\n  		<iframe src="http://ghbtns.com/github-btn.html?user=brandid&repo=parse-angular-demo&type=fork&count=true"\n  allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>\n\n  	</div>\n\n	<div class="row-fluid top-margin small-bottom-margin max-width-600">\n		<div class="well muted withShadow">\n			<div class="row-fluid small-bottom-margin">\n				An opinionated, battle-tested boilerplate for building large, powerful, serverless apps with AngularJS, Backbone and Parse\n			</div>\n			<div class="row-fluid">\n				<a href="https://twitter.com/share" class="twitter-share-button" data-text="Beautiful demo app using AngularJS x Backbone x @parseit by @BRANDiD" data-related="male" data-hashtags="javascript">Tweet</a>\n	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\'http\':\'https\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\'://platform.twitter.com/widgets.js\';fjs.parentNode.insertBefore(js,fjs);}}(document, \'script\', \'twitter-wjs\');</script>\n			</div>\n			<hr>\n			<div class="row-fluid">\n				<div class="row-fluid">\n					<a href="https://www.getbrandid.com" class=""><img src="http://brandid.s3.amazonaws.com/logo.png" alt="BRANDiD Logo" style="width:90px"></a>\n				</div>\n				<div class="row-fluid">\n					Built by dudes who would rather be coding than <a href="http://www.getbrandid.com">shopping</a>\n				</div>\n\n			</div>\n			<div class="row-fluid small-top-margin">\n				<a href="https://twitter.com/spacenick" class="twitter-follow-button" data-show-count="false">Follow @spacenick</a>\n<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\'http\':\'https\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\'://platform.twitter.com/widgets.js\';fjs.parentNode.insertBefore(js,fjs);}}(document, \'script\', \'twitter-wjs\');</script> <a href="https://twitter.com/arush" class="twitter-follow-button" data-show-count="false">Follow @arush</a>\n<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\'http\':\'https\';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\'://platform.twitter.com/widgets.js\';fjs.parentNode.insertBefore(js,fjs);}}(document, \'script\', \'twitter-wjs\');</script>\n			</div>\n				\n			\n		</div>\n\n	</div>\n\n	\n	<a href="https://github.com/brandid/parse-angular-demo"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>\n</header>'),e.put("app/views/leftnav.html",'<div class="" ng-controller="MenuController">\n	<!-- check out this ng-show condition, shows correct stuff for shoppers and everything in god mode -->\n	<div class="row-fluid top-margin {{menuItem.css}}" ng-repeat="menuItem in menuCtrl.menu">\n		<a href="{{menuItem.href}}" class="muted line height-btn center-align menuItem" ng-class="isActive(menuItem)">\n			<div class="row-fluid center-align dark-text text-shadow">\n				<div class="line height-btn font-size-large">\n					<i class="icon {{menuItem.icon}} icon-large"></i>\n				</div>\n				<div class="line height-btn row-fluid tichy">\n\n					<span class="muted uppercase small">{{menuItem.name}}</span>\n				</div>\n			</div>\n				\n		</a>\n	</div>\n</div>'),e.put("app/views/tips/crud-tips.html",'<div class="row-fluid">\n	<h5 class="punchy">How To CRUD:</h5>\n</div>\n<pre class="muted white-back left-align ani flash">\n// create\n$scope.masterDetailCtrl.collection.addComment(\'Joe\', \'exploding feces\')\n\n// update\ncurrent.set(\'name\', \'Bob\');\nParseQueryAngular(current, {functionToCall:"save", params:[null]});\n\n// delete\nParseQueryAngular(current, {functionToCall:"destroy"});\n</pre>'),e.put("app/views/tips/load-collections.html",'<div class="row-fluid">\n	<h5 class="punchy">How To Load Collections:</h5>\n</div>\n<pre class="muted white-back left-align ani flash">\n// get the collection from our data definitions\nvar Monsters = Monsterservice.collection;\n\n// new up a collection\n$scope.masterDetailCtrl.collection = new Monsters;\n\n// use the extended Parse SDK to load the whole collection\n$scope.masterDetailCtrl.collection.load();\n</pre>'),e.put("app/views/welcome.html",'<div class="row-fluid">\n	test\n</div>')
}]),angular.module("ParseServices",[]).factory("ExtendParseSDK",["ParseAbstractService",function(e){Parse.Object.extendAngular=function(n){return e.EnhanceObject(Parse.Object.extend(n))},Parse.Collection.extendAngular=function(n){return e.EnhanceCollection(Parse.Collection.extend(n))}}]).factory("ParseSDK",function(){Parse.initialize("oInJV2JlcXR96EN0SQjee0n5FlRUAd0joyFXReve","OOZa6rsbkIiRWyiNlmHVMgMIHAyTqPdHRg7N1PxO"),window.fbPromise.then(function(){Parse.FacebookUtils.init({appId:0x650e124ef1c7,channelUrl:"http://www.yourdomain.com/channel.html",cookie:!0,xfbml:!0,frictionlessRequests:!0})})}),angular.module("ParseServices").factory("ParseQueryAngular",["$q","$timeout",function(e,n){var t=n;return function(n,a){var r="find";_.isUndefined(a)||_.isUndefined(a.functionToCall)||(r=a.functionToCall);var i=e.defer(),s=[{success:function(e){t(function(){i.resolve(e)})},error:function(e,n){t(function(){i.reject(n)})}}];return a&&a.params&&(s=a.params.concat(s)),a&&a.mergeParams&&(s[0]=_.extend(s[0],a.mergeParams)),n[r].apply(n,s),i.promise}}]),angular.module("ExternalDataServices",[]).factory("ParseAbstractService",["ParseQueryAngular",function(e){var n=function(n){return n.prototype=_.extend(n.prototype,{load:function(){return e(this,{functionToCall:"fetch"})},saveParse:function(n){return n&&"object"==typeof n&&this.set(n),e(this,{functionToCall:"save",params:[null]})}}),n},t=function(n){return n.prototype=_.extend(n.prototype,{load:function(){return e(this,{functionToCall:"fetch"})}}),n};return{EnhanceObject:n,EnhanceCollection:t}}]),angular.module("ExternalDataServices").factory("MonsterService",["ParseQueryAngular",function(e){var n=Parse.Object.extendAngular({className:"Monster",setName:function(e){return this.set("name",e),this},setScaryMove:function(e){return this.set("scaryMove",e),this},destroyParse:function(){return e(this,{functionToCall:"destroy"})}}),t=Parse.Collection.extendAngular({model:n,comparator:function(e){return-e.createdAt.getTime()},loadMonstersWithMove:function(){return this.query=new Parse.Query(n),this.load()},addMonster:function(e,t){var a=this,r=new n;return r.setName(e),r.setScaryMove(t),r.saveParse().then(function(e){a.add(e)})},removeMonster:function(e){if(!this.get(e))return!1;var n=this;return e.destroyParse().then(function(){n.remove(e)})}});return{model:n,collection:t}}]);